<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dự Toán Vay Trả Góp - VinFast Auto</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* Style for table */
        .repayment-table th, .repayment-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        .repayment-table th {
            background-color: #f9fafb;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
    </style>
</head>
<body class="antialiased">

    <header id="main-header" class="sticky top-0 bg-white shadow-sm left-0 right-0 z-40 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-extrabold text-gray-800 tracking-wider">
                Vin<span class="text-blue-600">Auto</span>
            </a>
            <nav class="hidden lg:flex items-center space-x-8">
                <a href="index.html#cars-showcase" class="text-gray-600 hover:text-blue-600 font-medium transition-colors duration-300">Ô tô</a>
                <a href="index.html#bikes-showcase" class="text-gray-600 hover:text-blue-600 font-medium transition-colors duration-300">Xe máy điện</a>
                <a href="index.html#accessories" class="text-gray-600 hover:text-blue-600 font-medium transition-colors duration-300">Phụ kiện</a>
                <a href="index.html#after-sales" class="text-gray-600 hover:text-blue-600 font-medium transition-colors duration-300">Dịch vụ</a>
                <a href="index.html#why-us" class="text-gray-600 hover:text-blue-600 font-medium transition-colors duration-300">Tại sao chọn chúng tôi ?</a>
            </nav>
            <div class="flex items-center space-x-4">
                 <a href="#" class="hidden md:block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-full transition-all duration-300">
                    Lái thử
                </a>
                <button id="menu-toggle-button" class="text-gray-800 text-2xl z-50">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>
    
    <div id="menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40"></div>
    <div id="side-menu" class="fixed top-0 right-0 h-full w-80 bg-white shadow-lg p-8 z-50">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-bold text-gray-900">Tiện ích</h2>
            <button id="close-menu-button" class="text-gray-500 hover:text-gray-900 text-2xl">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <nav class="flex flex-col space-y-4">
            <a href="#" class="text-gray-700 hover:text-blue-600 transition-colors text-lg"><i class="fas fa-car-side w-6 mr-2 text-blue-500"></i>Đăng ký lái thử</a>
            <a href="#" class="text-gray-700 hover:text-blue-600 transition-colors text-lg"><i class="fas fa-right-left w-6 mr-2 text-blue-500"></i>So sánh xe</a>
            <a href="#" class="text-gray-700 hover:text-blue-600 transition-colors text-lg"><i class="fas fa-file-invoice-dollar w-6 mr-2 text-blue-500"></i>Dự đoán chi phí lăn bánh</a>
            <a href="installment.html" class="text-gray-700 hover:text-blue-600 transition-colors text-lg"><i class="fas fa-hand-holding-dollar w-6 mr-2 text-blue-500"></i>Dự đoán vay trả góp</a>
            <a href="#" class="text-gray-700 hover:text-blue-600 transition-colors text-lg"><i class="fas fa-file-signature w-6 mr-2 text-blue-500"></i>Thẩm định vay</a>
            <a href="#" class="text-gray-700 hover:text-blue-600 transition-colors text-lg"><i class="fas fa-calendar-check w-6 mr-2 text-blue-500"></i>Đặt lịch dịch vụ</a>
            <a href="#contact" class="text-gray-700 hover:text-blue-600 transition-colors text-lg"><i class="fas fa-headset w-6 mr-2 text-blue-500"></i>Liên hệ</a>
        </nav>
    </div>

    <main class="py-20 md:py-28">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h1 class="text-3xl md:text-5xl font-bold text-gray-900 mb-4">Dự Toán Chi Phí Trả Góp</h1>
                <p class="text-gray-600 text-lg max-w-3xl mx-auto">
                    Các giá trị dự toán này chỉ mang tính chất tham khảo. Để nhận thông tin cụ thể và chính xác, Quý khách vui lòng liên hệ với showroom hoặc đại lý gần nhất.
                </p>
            </div>
            
            <div class="flex flex-col lg:flex-row gap-12">
                <div class="lg:w-1/2 flex flex-col">
                    <div class="flex justify-center p-4">
                        <img class="img-product h-64 object-contain" src="../image/icon_logo/VinFast-logo.svg" alt="Hình ảnh xe"/>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg flex-grow">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Thông tin dự toán</h3>
                        <div class="space-y-4 text-gray-700">
                            <div class="flex justify-between items-center">
                                <span>Giá xe</span>
                                <span class="font-semibold text-lg" id="car-price">0 VNĐ</span>
                            </div>
                            <hr>
                            <div class="flex justify-between items-center">
                                <span>Trả trước</span>
                                <span class="font-semibold text-lg" id="down-payment">0 VNĐ</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>Tiền vay</span>
                                <span class="font-semibold text-lg" id="loan-amount">0 VNĐ</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>Lãi suất (%/năm)</span>
                                <span class="font-semibold text-lg" id="interest-rate-display">0%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>Tổng tiền lãi</span>
                                <span class="font-semibold text-lg text-red-600" id="interest-amount">0 VNĐ</span>
                            </div>
                            <hr>
                            <div class="flex justify-between items-center font-bold text-xl text-gray-900">
                                <span>Tổng Vay & Lãi</span>
                                <span id="total-loan-interest">0 VNĐ</span>
                            </div>
                        </div>
                        <div class="mt-6">
                             <button id="show-schedule-btn" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors hidden">
                                LỊCH TRẢ GÓP CHI TIẾT
                            </button>
                        </div>
                    </div>
                </div>

                <div class="lg:w-1/2">
                    <div class="bg-white p-8 rounded-lg shadow-lg space-y-6 h-full">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700">Mẫu xe</label>
                            <select id="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></select>
                        </div>
                        <div>
                            <label for="version" class="block text-sm font-medium text-gray-700">Phiên bản</label>
                            <select id="version" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tính theo giá</label>
                            <div role="radiogroup" class="space-y-3">
                                <div class="flex items-center">
                                    <input id="price-type-list" name="price-type" type="radio" value="list" checked class="h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500">
                                    <label for="price-type-list" class="ml-3 block text-sm font-medium text-gray-700">
                                        Giá xe niêm yết: 
                                        <span id="list-price-display" class="font-semibold text-gray-900 ml-2">Chưa chọn xe</span>
                                    </label>
                                </div>
                                <div class="flex flex-wrap items-center gap-x-3 gap-y-2">
                                    <div class="flex items-center">
                                        <input id="price-type-custom" name="price-type" type="radio" value="custom" class="h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500">
                                        <label for="price-type-custom" class="ml-3 block text-sm font-medium text-gray-700">
                                            Giá xe sau ưu đãi:
                                        </label>
                                    </div>
                                    <div id="custom-price-container" class="hidden flex-1 min-w-[200px]">
                                        <input id="custom-price-input" 
                                               type="text" 
                                               inputmode="numeric" 
                                               placeholder="Ví dụ: 100.000.000" 
                                               class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-1.5">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label for="battery" class="block text-sm font-medium text-gray-700">Pin</label>
                            <select id="battery" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                <option value="include">Bao gồm pin (+90,000,000)</option>
                                <option value="exclude" selected>Không bao gồm pin</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Thời gian vay (năm)</label>
                            <div class="mt-2 grid grid-cols-4 gap-2" id="loan-duration-buttons">
                                <button type="button" data-value="1" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">1</button>
                                <button type="button" data-value="2" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">2</button>
                                <button type="button" data-value="3" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">3</button>
                                <button type="button" data-value="4" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">4</button>
                                <button type="button" data-value="5" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">5</button>
                                <button type="button" data-value="6" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">6</button>
                                <button type="button" data-value="7" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">7</button>
                                <button type="button" data-value="8" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">8</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700">Số tiền trả trước</label>
                             <div class="mt-2 grid grid-cols-4 gap-2" id="down-payment-buttons">
                                <button type="button" data-value="0.2" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">20%</button>
                                <button type="button" data-value="0.3" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">30%</button>
                                <button type="button" data-value="0.4" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">40%</button>
                                <button type="button" data-value="0.5" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">50%</button>
                                <button type="button" data-value="0.6" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">60%</button>
                                <button type="button" data-value="0.7" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">70%</button>
                                <button type="button" data-value="0.8" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">80%</button>
                                <button type="button" data-value="0.9" class="px-3 py-2 border rounded-full text-sm font-medium transition-colors">90%</button>
                            </div>
                        </div>

                        <div>
                            <label for="bank" class="block text-sm font-medium text-gray-700">Ngân hàng</label>
                            <select id="bank" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></select>
                        </div>
                        <div>
                            <label for="interest-rate-input" class="block text-sm font-medium text-gray-700">Lãi suất (%/năm)</label>
                            <input id="interest-rate-input" type="number" step="0.1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="schedule-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <div id="schedule-modal-overlay" class="fixed inset-0 bg-black bg-opacity-60"></div>
        
        <div class="relative bg-white p-8 rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-6 flex-shrink-0">
                <h2 class="text-2xl font-bold text-gray-800">Bảng Kế Hoạch Trả Nợ (Dự kiến)</h2>
                <div class="flex items-center gap-4">
                    <button id="download-csv-btn" class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-download"></i> Tải về (CSV)
                    </button>
                    <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800 text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="overflow-y-auto">
                <table class="w-full text-sm repayment-table">
                    <thead>
                        <tr>
                            <th>Kỳ hạn</th>
                            <th>Dư nợ đầu kỳ</th>
                            <th>Gốc phải trả</th>
                            <th>Lãi phải trả</th>
                            <th>Gốc + Lãi</th>
                            <th>Dư nợ cuối kỳ</th>
                        </tr>
                    </thead>
                    <tbody id="schedule-body">
                        </tbody>
                </table>
            </div>
        </div>
    </div>
    <footer id="contact" class="bg-white text-gray-700 pt-16 pb-8">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-10">
                 <div>
                    <h3 class="text-xl font-bold text-gray-900 mb-4 tracking-wider">Vin<span class="text-blue-600">Auto</span></h3>
                    <p class="text-gray-700">Cùng bạn kiến tạo một tương lai xanh hơn, thông minh hơn và an toàn hơn.</p>
                    <div class="flex space-x-4 mt-6">
                        <a href="#" class="text-gray-500 hover:text-gray-900 transition-colors"><i class="fab fa-facebook-f fa-lg"></i></a>
                        <a href="#" class="text-gray-500 hover:text-gray-900 transition-colors"><i class="fab fa-youtube fa-lg"></i></a>
                        <a href="#" class="text-gray-500 hover:text-gray-900 transition-colors"><i class="fab fa-instagram fa-lg"></i></a>
                    </div>
                </div>
                 <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Khám Phá</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-600 hover:text-gray-900 transition-colors">Về chúng tôi</a></li>
                        <li><a href="#cars-showcase" class="text-gray-600 hover:text-gray-900 transition-colors">Sản phẩm ô tô</a></li>
                        <li><a href="#bikes-showcase" class="text-gray-600 hover:text-gray-900 transition-colors">Sản phẩm xe máy</a></li>
                    </ul>
                </div>
                 <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Hỗ Trợ</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-600 hover:text-gray-900 transition-colors">Tìm Showroom</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-gray-900 transition-colors">Chính sách bảo hành</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-gray-900 transition-colors">Liên hệ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Đăng Ký Nhận Tin</h3>
                    <p class="text-gray-700 mb-4">Nhận thông tin mới nhất và các chương trình ưu đãi.</p>
                    <form class="flex">
                        <input type="email" placeholder="Email của bạn" class="w-full bg-white text-gray-900 px-4 py-2 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300">
                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold px-4 py-2 rounded-r-md"><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
            <div class="border-t border-gray-200 pt-6 text-center text-gray-600">
                <p>&copy; 2024 VinAuto Corporation. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <script src="../assets/scripts/data-loader-iment.js"></script>
    <script src="../assets/scripts/ui-main.js"></script>
</body>
</html>